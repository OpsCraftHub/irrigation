; ESP32 Single-Channel Irrigation Controller
; PlatformIO Project Configuration

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Build options
monitor_speed = 115200
upload_speed = 921600

; Libraries
lib_deps =
    ; LCD Display
    marcoschwartz/LiquidCrystal_I2C@^1.1.4

    ; MQTT for Home Assistant
    knolleary/PubSubClient@^2.8

    ; JSON for configuration
    bblanchon/ArduinoJson@^6.21.3

    ; NTP Time
    arduino-libraries/NTPClient@^3.2.1

    ; Real-Time Clock (optional - uncomment if using DS3231)
    ; adafruit/RTClib@^2.1.1

    ; Web Server and DNS for WiFi Config Portal
    ; Using standard WebServer instead of ESPAsyncWebServer for stability

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_ARDUHAL_LOG_COLORS=1

; OTA settings (uncomment for OTA updates after first flash)
; upload_protocol = espota
; upload_port = irrigation-esp32.local

; USB Serial upload (for first flash)
upload_port = /dev/cu.SLAB_USBtoUART

; Filesystem for SPIFFS
board_build.filesystem = spiffs
